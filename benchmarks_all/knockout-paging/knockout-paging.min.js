!function(e,t){"function"==typeof define&&define.amd?define(["knockout"],t):"object"==typeof exports?module.exports=t(require("knockout")):e.KnockoutElse=t(e.ko)}(this,function(e){"use strict";function t(t){return e.isObservable(t)&&"push"in t}function r(e,t){for(var r=[],n=e;t>=n;n++)r.push(n);return r}function n(){this.generate=function(e){return r(1,e.pageCount())}}function a(){var t=this;t.windowSize=e.observable(5),t.generate=function(e){var n=e.pageNumber()-Math.floor(t.windowSize()/2),a=e.pageCount()-t.windowSize()+1,u=Math.max(1,Math.min(n,a)),o=Math.min(e.pageCount(),u+t.windowSize()-1);return r(u,o)}}e.paging={defaults:{pageNumber:1,pageSize:50},generators:{"default":new n,sliding:new a}},e.extenders.paged=function(r,n){if(!t(r))throw new Error("The paged extender can only be applied to observable arrays.");if(n&&n.pageNumber<1)throw new Error("The page number must be greater than zero.");if(n&&n.pageSize<1)throw new Error("The page size must be greater than zero.");if(n&&void 0!==n.pageGenerator&&void 0===e.paging.generators[n.pageGenerator])throw new Error("The page generator could not be found.");var a=e.observable(n&&n.pageNumber||e.paging.defaults.pageNumber||1);r.pageNumber=e.pureComputed({read:function(){return a()},write:function(e){a(Math.min(Math.max(1,e),r.pageCount()))},owner:r});var u=e.observable(n&&n.pageSize||e.paging.defaults.pageSize||50);return r.pageSize=e.pureComputed({read:function(){return u()},write:function(e){u(e),r.pageNumber()>r.pageCount()&&r.pageNumber(r.pageCount())},owner:r}),r.pageGenerator=e.paging.generators[n&&n.pageGenerator||"default"],r.pageItems=e.pureComputed(function(){return r().slice(r.firstItemOnPage()-1,r.lastItemOnPage())}),r.pageItems.extend({rateLimit:1}),r.pageCount=e.pureComputed(function(){return r.itemCount()<=0?1:Math.ceil(r.itemCount()/r.pageSize())}),r.itemCount=e.pureComputed(function(){return r().length}),r.firstItemOnPage=e.pureComputed(function(){return(r.pageNumber()-1)*r.pageSize()+1}),r.lastItemOnPage=e.pureComputed(function(){return 0==r.itemCount()?1:Math.min(r.pageNumber()*r.pageSize(),r.itemCount())}),r.hasPreviousPage=e.pureComputed(function(){return!r.isFirstPage()}),r.hasNextPage=e.pureComputed(function(){return!r.isLastPage()}),r.isFirstPage=e.pureComputed(function(){return 1==r.pageNumber()}),r.isLastPage=e.pureComputed(function(){return r.pageNumber()==r.pageCount()}),r.pages=e.pureComputed(function(){return r.pageGenerator.generate(r)}),r.toNextPage=function(){r.hasNextPage()&&r.pageNumber(r.pageNumber()+1)},r.toPreviousPage=function(){r.hasPreviousPage()&&r.pageNumber(r.pageNumber()-1)},r.toFirstPage=function(){r.isFirstPage()||r.pageNumber(1)},r.toLastPage=function(){r.isLastPage()||r.pageNumber(r.pageCount())},r},e.pagedObservableArray=function(t,r){return e.observableArray(t).extend({paged:r})}});