function calendarHeatmap(){function t(){function l(){var l=d3.select(t.selector()).append("svg").attr("width",e).attr("class","calendar-heatmap").attr("height",n).style("padding","36px");if(y=l.selectAll(".day-cell").data(x),y.enter().append("rect").attr("class","day-cell").attr("width",c).attr("height",c).attr("fill","gray").attr("x",function(t,e){var n=moment(t),a=n.week()-w.week()+w.weeksInYear()*(n.weekYear()-w.weekYear());return a*(c+i)}).attr("y",function(t,e){return d+t.getDay()*(c+i)}),"function"==typeof g&&y.on("click",function(t){var e=p(t);g({date:t,count:e})}),t.tooltipEnabled()&&y.on("mouseover",function(t,e){m=d3.select("body").append("div").attr("class","day-cell-tooltip").html(s(t)).style("left",function(){return Math.floor(e/7)*c+"px"}).style("top",function(){return t.getDay()*(c+i)+3*d+"px"})}).on("mouseout",function(t,e){m.remove()}),t.legendEnabled()){for(var u=[D(0)],f=3;f>0;f--)u.push(D(b/f));var h=l.append("g");h.selectAll(".calendar-heatmap-legend").data(u).enter().append("rect").attr("class","calendar-heatmap-legend").attr("width",c).attr("height",c).attr("x",function(t,n){return e-a+13*(n+1)}).attr("y",n+i).attr("fill",function(t){return t}),h.append("text").attr("class","calendar-heatmap-legend-text").attr("x",e-a-13).attr("y",n+c).text("Less"),h.append("text").attr("class","calendar-heatmap-legend-text").attr("x",e-a+i+13*(u.length+1)).attr("y",n+c).text("More")}y.exit().remove();l.selectAll(".month").data(v).enter().append("text").attr("class","month-name").style().text(function(t){return r[t.getMonth()]}).attr("x",function(t,e){var n=0;return x.find(function(e,a){return n=a,moment(t).isSame(e,"month")&&moment(t).isSame(e,"year")}),Math.floor(n/7)*(c+i)}).attr("y",0);o.forEach(function(t,e){e%2&&l.append("text").attr("class","day-initial").attr("transform","translate(-8,"+(c+i)*(e+1)+")").style("text-anchor","middle").attr("dy","2").text(t)})}function s(t){var e=moment(t).format("ddd, MMM Do YYYY"),n=p(t);return"<span><strong>"+(n?n:"No")+" "+h+(1===n?"":"s")+"</strong> on "+e+"</span>"}function p(e){var n=0,a=t.data().find(function(t,n){return moment(t.date).isSame(e,"day")});return a&&(n=a.count),n}d3.select(t.selector()).selectAll("svg.calendar-heatmap").remove();var m,y,x=d3.time.days(f,u),v=d3.time.months(moment(f).startOf("month").toDate(),u),w=moment(x[0]),b=d3.max(t.data(),function(t){return t.count}),D=d3.scale.linear().range(t.colorRange()).domain([0,b]);l();var M=t.data().map(function(t){return t.date.toDateString()});y.filter(function(t){return M.indexOf(t.toDateString())>-1}).attr("fill",function(e,n){return D(t.data()[n].count)})}var e=750,n=110,a=150,r=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],o=["S","M","T","W","T","F","S"],l="body",c=11,i=2,d=6,u=moment().endOf("day").toDate(),f=moment().startOf("day").subtract(1,"year").toDate(),s=[],p=["#D8E6E7","#218380"],m=!0,h="contribution",y=!0,g=null;return t.data=function(e){return arguments.length?(s=e,t):s},t.selector=function(e){return arguments.length?(l=e,t):l},t.colorRange=function(e){return arguments.length?(p=e,t):p},t.tooltipEnabled=function(e){return arguments.length?(m=e,t):m},t.tooltipUnit=function(e){return arguments.length?(h=e,t):h},t.legendEnabled=function(e){return arguments.length?(y=e,t):y},t.onClick=function(e){return arguments.length?(g=e,t):g()},t}Array.prototype.find||(Array.prototype.find=function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("predicate must be a function");for(var e,n=Object(this),a=n.length>>>0,r=arguments[1],o=0;a>o;o++)if(e=n[o],t.call(r,e,o,n))return e});
//# sourceMappingURL=calendar-heatmap.min.js.map